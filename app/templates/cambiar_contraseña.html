{% extends "base.html" %}
{% block title %}Cambiar Contraseña{% endblock %}
{% block content %}
<div class="form-container">
    <h2>Cambiar Contraseña</h2>
    <form method="post">
        <div class="form-group">
            <label>Contraseña actual</label>
            <div style="position:relative;">
                <input type="password" name="contraseña_actual" id="contraseña_actual" class="form-control" required>
                <span class="toggle-password" onclick="togglePassword('contraseña_actual', this)">
                    <svg id="eye-contraseña_actual" xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="none" viewBox="0 0 24 24"><path fill="#888" d="M12 5c-7 0-10 7-10 7s3 7 10 7 10-7 10-7-3-7-10-7zm0 12c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8a3 3 0 100 6 3 3 0 000-6z"/></svg>
                    <svg id="eye-off-contraseña_actual" xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="none" viewBox="0 0 24 24" style="display:none;"><path fill="#888" d="M1 4.27L2.28 3 21 21.72 19.73 23l-2.1-2.1C15.07 21.28 13.57 22 12 22c-7 0-10-7-10-7 1.61-3.22 4.39-5.92 8.07-6.82L1 4.27zM12 6c2.76 0 5 2.24 5 5 0 .46-.07.91-.18 1.34l-1.51-1.51A3 3 0 0012 8a3 3 0 00-2.65 1.53l-1.51-1.51C8.09 7.07 10.01 6 12 6zm0 12c-2.76 0-5-2.24-5-5 0-.46.07-.91.18-1.34l1.51 1.51A3 3 0 0012 16a3 3 0 002.65-1.53l1.51 1.51C15.91 16.93 13.99 18 12 18z"/></svg>
                </span>
            </div>
        </div>
        <div class="form-group">
            <label>Nueva contraseña</label>
            <div style="position:relative;">
                <input type="password" name="nueva_contraseña" id="nueva_contraseña" class="form-control" required>
                <span class="toggle-password" onclick="togglePassword('nueva_contraseña', this)">
                    <svg id="eye-nueva_contraseña" xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="none" viewBox="0 0 24 24"><path fill="#888" d="M12 5c-7 0-10 7-10 7s3 7 10 7 10-7 10-7-3-7-10-7zm0 12c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8a3 3 0 100 6 3 3 0 000-6z"/></svg>
                    <svg id="eye-off-nueva_contraseña" xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="none" viewBox="0 0 24 24" style="display:none;"><path fill="#888" d="M1 4.27L2.28 3 21 21.72 19.73 23l-2.1-2.1C15.07 21.28 13.57 22 12 22c-7 0-10-7-10-7 1.61-3.22 4.39-5.92 8.07-6.82L1 4.27zM12 6c2.76 0 5 2.24 5 5 0 .46-.07.91-.18 1.34l-1.51-1.51A3 3 0 0012 8a3 3 0 00-2.65 1.53l-1.51-1.51C8.09 7.07 10.01 6 12 6zm0 12c-2.76 0-5-2.24-5-5 0-.46.07-.91.18-1.34l1.51 1.51A3 3 0 0012 16a3 3 0 002.65-1.53l1.51 1.51C15.91 16.93 13.99 18 12 18z"/></svg>
                </span>
            </div>
        </div>
        <div class="form-group">
            <label>Repetir nueva contraseña</label>
            <div style="position:relative;">
                <input type="password" name="confirmar_contraseña" id="confirmar_contraseña" class="form-control" required>
                <span class="toggle-password" onclick="togglePassword('confirmar_contraseña', this)">
                    <svg id="eye-confirmar_contraseña" xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="none" viewBox="0 0 24 24"><path fill="#888" d="M12 5c-7 0-10 7-10 7s3 7 10 7 10-7 10-7-3-7-10-7zm0 12c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8a3 3 0 100 6 3 3 0 000-6z"/></svg>
                    <svg id="eye-off-confirmar_contraseña" xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="none" viewBox="0 0 24 24" style="display:none;"><path fill="#888" d="M1 4.27L2.28 3 21 21.72 19.73 23l-2.1-2.1C15.07 21.28 13.57 22 12 22c-7 0-10-7-10-7 1.61-3.22 4.39-5.92 8.07-6.82L1 4.27zM12 6c2.76 0 5 2.24 5 5 0 .46-.07.91-.18 1.34l-1.51-1.51A3 3 0 0012 8a3 3 0 00-2.65 1.53l-1.51-1.51C8.09 7.07 10.01 6 12 6zm0 12c-2.76 0-5-2.24-5-5 0-.46.07-.91.18-1.34l1.51 1.51A3 3 0 0012 16a3 3 0 002.65-1.53l1.51 1.51C15.91 16.93 13.99 18 12 18z"/></svg>
                </span>
            </div>
        </div>
        <button type="submit" class="btn">Cambiar</button>
        <div style="text-align:center; margin-top: 24px;">
            <a href="{{ url_for('index') }}" class="btn-link">Volver al menú</a>
        </div>
    </form>
</div>

<style>
.toggle-password {
    position: absolute;
    right: -18px; /* Más a la derecha */
    top: 50%;
    transform: translateY(-50%);
    cursor: pointer;
    user-select: none;
    width: 26px;
    height: 26px;
    display: flex;
    align-items: center;
    justify-content: center;
}
.toggle-password:hover svg path {
    fill: #1976d2;
}
</style>
<script>
function togglePassword(inputId, el) {
    const input = document.getElementById(inputId);
    const eye = el.querySelector(`#eye-${inputId}`);
    const eyeOff = el.querySelector(`#eye-off-${inputId}`);
    if (input.type === "password") {
        input.type = "text";
        eye.style.display = "none";
        eyeOff.style.display = "inline";
    } else {
        input.type = "password";
        eye.style.display = "inline";
        eyeOff.style.display = "none";
    }
}
</script>
{% endblock %}